<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>lovealina</title>
  <style>
    :root{--bg1:#ffedf0;--bg2:#ffe6f2;--card:#fff;--accent:#ff5c8a;--text:#3b2a33}
    .night-mode{--bg1:#0a0a2a;--bg2:#1a1a4a;--card:#1e1e3a;--accent:#8a2be2;--text:#e6e6ff}
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: radial-gradient(circle at 10% 10%, rgba(255,220,230,0.7), transparent 20%),
                  linear-gradient(135deg,var(--bg1),var(--bg2));
      display:flex;align-items:flex-start;justify-content:center;padding:32px;color:var(--text);
      overflow-y:auto;
      min-height:100vh;
      transition: all 0.5s ease;
    }
    .night-mode body{
      background: radial-gradient(circle at 10% 10%, rgba(138,43,226,0.3), transparent 20%),
                  linear-gradient(135deg,var(--bg1),var(--bg2));
    }

   /* floating hearts - —Ç–æ–ª—å–∫–æ –≤ –¥–Ω–µ–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ */
    .hearts{position:fixed;inset:0;z-index:1}
    .hearts i{
      position:absolute;
      display:block;
      width:28px;
      height:28px;
      background:var(--accent);
      transform:rotate(45deg);
      border-radius:4px;
      opacity:0.9;
      cursor:pointer;
    }    
    .hearts i:before,.hearts i:after{
      content:'';
      position:absolute;
      width:28px;
      height:28px;
      background:var(--accent);
      border-radius:50%;
    }
    .hearts i:before{top:-14px;left:0}
    .hearts i:after{left:-14px;top:0}
    
    @keyframes heartExplosion {
      0% { transform: scale(1) rotate(45deg); opacity: 1; }
      50% { transform: scale(1.5) rotate(45deg); opacity: 0.7; }
      100% { transform: scale(2) rotate(45deg); opacity: 0; }
    }
    .heart-explode {
      animation: heartExplosion 0.6s ease-out forwards;
      pointer-events: none;
    }

    /* floating stars - —Ç–æ–ª—å–∫–æ –≤ –Ω–æ—á–Ω–æ–º —Ä–µ–∂–∏–º–µ */
    .stars{position:fixed;inset:0;z-index:1;display:none}
    .night-mode .stars{display:block}
    .stars i{
      position:absolute;
      display:block;
      width:8px;
      height:8px;
      background:#fff;
      border-radius:50%;
      opacity:0.9;
      cursor:pointer;
      box-shadow:0 0 12px #fff, 0 0 20px #8a2be2;
      transition:all 0.3s ease;
    }
    
    @keyframes starExplosion {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(4); opacity: 0.7; }
      100% { transform: scale(6); opacity: 0; }
    }
    .star-explode {
      animation: starExplosion 0.6s ease-out forwards;
      pointer-events: none;
    }

    .card{
      width:min(760px,96vw);
      background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,250,252,0.9));
      border-radius:20px;padding:28px;box-shadow:0 10px 30px rgba(78,30,60,0.12);
      position:relative;z-index:2;backdrop-filter: blur(6px);
      margin:20px 0;
      transition: all 0.5s ease;
    }
    .night-mode .card{
      background:linear-gradient(180deg, rgba(30,30,58,0.9), rgba(26,26,52,0.9));
      box-shadow:0 10px 30px rgba(138,43,226,0.2);
    }
    .header{display:flex;gap:16px;align-items:center}
    .logo{
      width:76px;height:76px;border-radius:18px;background:conic-gradient(from 200deg at 50% 50%, #ffd3e6, #ff9cc0 30%, #ff6b95 60%);
      display:flex;align-items:center;justify-content:center;box-shadow:0 6px 18px rgba(255,110,150,0.15);
      transition: all 0.5s ease;
    }
    .night-mode .logo{
      background:conic-gradient(from 200deg at 50% 50%, #8a2be2, #6a0dad 30%, #4b0082 60%);
      box-shadow:0 6px 18px rgba(138,43,226,0.3);
    }
    .logo svg{width:48px;height:48px;filter:drop-shadow(0 6px 10px rgba(255,110,150,0.12))}
    .night-mode .logo svg{filter:drop-shadow(0 6px 10px rgba(138,43,226,0.3))}
    h1{font-size:1.6rem;margin:0}
    p.lead{margin:8px 0 0;color:var(--text)}

    /* –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ */
    .section {
      background: rgba(255,255,255,0.95);
      border-radius: 15px;
      padding: 20px;
      margin: 15px 0;
      box-shadow: 0 5px 20px rgba(255,92,138,0.1);
      border: 2px dashed rgba(255,92,138,0.3);
      transition: all 0.5s ease;
    }
    .night-mode .section {
      background: rgba(30,30,58,0.95);
      box-shadow: 0 5px 20px rgba(138,43,226,0.2);
      border: 2px dashed rgba(138,43,226,0.4);
    }

    footer{margin-top:18px;color:#774;opacity:0.9;font-size:0.9rem}
    .night-mode footer{color:#a8a8ff}

    /* –ö–æ–º–ø–ª–∏–º–µ–Ω—Ç—ã */
    .compliment-generator {
      text-align: center;
    }

    .compliment-box {
      background: linear-gradient(135deg, #fff0f5, #ffe6f2);
      border-radius: 15px;
      padding: 15px;
      margin: 10px 0;
      border: 2px solid var(--accent);
      min-height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      font-weight: 600;
      color: #5b3f47;
      transition: all 0.5s ease;
    }
    .night-mode .compliment-box {
      background: linear-gradient(135deg, #1a1a3a, #2a2a4a);
      color: #e6e6ff;
    }

    .generate-compliment {
      background: linear-gradient(90deg,#ff7aa3,#ff5480);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 20px;
      cursor: pointer;
      font-weight: 600;
      font-size: 0.9rem;
      margin-bottom: 5px;
      transition: all 0.5s ease;
    }
    .night-mode .generate-compliment {
      background: linear-gradient(90deg,#8a2be2,#6a0dad);
    }

    /* –í–∞–∂–Ω—ã–µ –¥–∞—Ç—ã */
    .dates-section {
      position: relative;
    }
    
    .dates-section h3 {
      margin: 0 0 15px 0;
      text-align: center;
      color: var(--accent);
    }
    
    .calendar-dates-container {
      margin-top: 0;
    }
    
    .calendar-date {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      padding: 10px 0;
      border-bottom: 1px solid rgba(255,200,220,0.5);
      margin: 0;
      transition: all 0.5s ease;
    }
    .night-mode .calendar-date {
      border-bottom: 1px solid rgba(138,43,226,0.3);
    }
    
    .calendar-date:last-child {
      border-bottom: none;
    }
    
    .date-event {
      font-weight: 600;
      color: var(--accent);
      flex: 1;
      margin-right: 15px;
      line-height: 1.4;
    }
    
    .date-days {
      color: #888;
      font-size: 0.9rem;
      white-space: nowrap;
      text-align: right;
      min-width: 120px;
      transition: all 0.5s ease;
    }
    .night-mode .date-days {
      color: #a8a8ff;
    }

    /* –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è */
    .achievements-system {
      margin: 0;
    }
    
    .achievements-system h3 {
      margin: 0 0 15px 0;
      text-align: center;
      color: var(--accent);
    }
    
    .achievement {
      display: flex;
      align-items: center;
      padding: 10px;
      margin: 8px 0;
      background: rgba(255,255,255,0.8);
      border-radius: 10px;
      border-left: 4px solid var(--accent);
      transition: all 0.5s ease;
    }
    .night-mode .achievement {
      background: rgba(30,30,58,0.8);
    }
    
    .achievement.unlocked {
      background: linear-gradient(135deg, #a8e6cf, #88d498);
      color: white;
    }
    
    .achievement-icon {
      font-size: 1.5rem;
      margin-right: 10px;
    }
    
    .achievement-text {
      flex: 1;
    }

    /* –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ */
    .planning-calendar {
      margin: 0;
    }
    
    .planning-calendar h3 {
      margin: 0 0 15px 0;
      text-align: center;
      color: var(--accent);
    }
    
    .planning-form {
      display: grid;
      gap: 10px;
      margin-bottom: 15px;
    }
    
    .planning-form input {
      padding: 10px;
      border: 2px solid rgba(255,200,220,0.5);
      border-radius: 8px;
      font-size: 1rem;
      background: white;
      transition: all 0.5s ease;
    }
    .night-mode .planning-form input {
      background: #2a2a4a;
      border: 2px solid rgba(138,43,226,0.3);
      color: #e6e6ff;
    }
    
    .planning-form button {
      background: var(--accent);
      color: white;
      border: none;
      padding: 10px;
      border-radius: 8px;
      cursor: pointer;
    }
    
    .plans-list {
      max-height: 200px;
      overflow-y: auto;
    }
    
    .plan-item {
      padding: 8px;
      margin: 5px 0;
      background: rgba(255,245,247,0.7);
      border-radius: 8px;
      border-left: 3px solid var(--accent);
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: all 0.5s ease;
    }
    .night-mode .plan-item {
      background: rgba(42,42,74,0.7);
    }

    .plan-actions {
      display: flex;
      gap: 8px;
    }

    .edit-btn {
      background: linear-gradient(135deg, #a8e6cf, #88d498);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 0.9rem;
      min-width: 40px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .delete-btn {
      background: linear-gradient(90deg,#ff7aa3,#ff5480);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 0.9rem;
      min-width: 40px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .night-mode .delete-btn {
      background: linear-gradient(90deg,#8a2be2,#6a0dad);
    }

    /* –°—á–µ—Ç—á–∏–∫ –¥–Ω–µ–π */
    .days-counter-section {
      text-align: center;
      padding: 30px 20px;
    }
    
    .days-counter {
      font-size: 3.5rem;
      font-weight: 800;
      background: linear-gradient(135deg, #ff6b95, #ff8eb4);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin: 10px 0;
      animation: pulse 2s ease-in-out infinite;
    }
    .night-mode .days-counter {
      background: linear-gradient(135deg, #8a2be2, #b19cd9);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .days-text {
      font-size: 1.2rem;
      color: var(--text);
      font-weight: 600;
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    /* –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞ */
    .theme-toggle {
      position: fixed;
      top: 20px;
      left: 20px;
      background: rgba(255,255,255,0.9);
      padding: 12px;
      border-radius: 50%;
      box-shadow: 0 4px 15px rgba(255,92,138,0.3);
      z-index: 1000;
      font-weight: 600;
      color: var(--accent);
      backdrop-filter: blur(10px);
      border: 2px solid var(--accent);
      cursor: pointer;
      transition: all 0.5s ease;
    }
    .night-mode .theme-toggle {
      background: rgba(30,30,58,0.9);
      box-shadow: 0 4px 15px rgba(138,43,226,0.3);
    }

    /* –°—á–µ—Ç—á–∏–∫–∏ */
    .heart-counter {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255,255,255,0.9);
      padding: 10px 20px;
      border-radius: 25px;
      box-shadow: 0 4px 15px rgba(255,92,138,0.3);
      z-index: 1000;
      font-weight: 600;
      color: var(--accent);
      backdrop-filter: blur(10px);
      border: 2px solid var(--accent);
      transition: all 0.5s ease;
    }
    .night-mode .heart-counter {
      display: none;
    }

    .star-counter {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(30,30,58,0.9);
      padding: 10px 20px;
      border-radius: 25px;
      box-shadow: 0 4px 15px rgba(138,43,226,0.3);
      z-index: 1000;
      font-weight: 600;
      color: #8a2be2;
      backdrop-filter: blur(10px);
      border: 2px solid #8a2be2;
      transition: all 0.5s ease;
      display: none;
    }
    .night-mode .star-counter {
      display: block;
    }

    #heartCount, #starCount {
      display: inline-block;
      transition: transform 0.3s ease;
      font-weight: 700;
    }

    /* Custom scrollbars */
    .plans-list::-webkit-scrollbar {
      width: 8px;
    }
    .plans-list::-webkit-scrollbar-track {
      background: rgba(255, 220, 230, 0.3);
      border-radius: 4px;
    }
    .plans-list::-webkit-scrollbar-thumb {
      background: var(--accent);
      border-radius: 4px;
    }
    .night-mode .plans-list::-webkit-scrollbar-track {
      background: rgba(138,43,226,0.2);
    }

    @media (max-width:520px){
      body{padding:16px}
      .header{gap:10px}
      .logo{width:60px;height:60px}
      .card{padding:18px}
      .planning-form {
        grid-template-columns: 1fr;
      }
      .calendar-date {
        flex-direction: column;
        align-items: flex-start;
        gap: 5px;
      }
      .date-event {
        margin-right: 0;
      }
      .date-days {
        text-align: left;
        min-width: auto;
      }
      .days-counter {
        font-size: 2.5rem;
      }
      .theme-toggle {
        top: 10px;
        left: 10px;
        padding: 10px;
      }
      .heart-counter, .star-counter {
        top: 10px;
        right: 10px;
        padding: 8px 16px;
      }
    }
  </style>
</head>
<body>
  <div class="hearts" aria-hidden="true"></div>
  <div class="stars" aria-hidden="true"></div>
  <div class="theme-toggle" id="themeToggle">üåô</div>
  <div class="heart-counter">
    üíñ <span id="heartCount">0</span>
  </div>
  <div class="star-counter">
    ‚≠ê <span id="starCount">0</span>
  </div>
  <div class="card" role="main">
    <div class="header">
      <div class="logo" aria-hidden="true">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 21s-6.5-4.35-9-7.1C-0.5 9.5 3 4 7.5 5.5 10 6.5 12 9 12 9s2-2.5 4.5-3.5C21 4 24.5 9.5 21 13.9 18.5 16.65 12 21 12 21z" fill="#fff" opacity="0.12"/><path d="M12 21s-6.5-4.35-9-7.1C-0.5 9.5 3 4 7.5 5.5 10 6.5 12 9 12 9s2-2.5 4.5-3.5C21 4 24.5 9.5 21 13.9 18.5 16.65 12 21 12 21z" stroke="#fff" stroke-width="0.6" fill="transparent"/></svg>
      </div>
      <div>
        <h1>–ú–æ—ë —Å–æ–ª–Ω—Ü–µ!</h1>
        <p class="lead">–≠—Ç–æ —Å—Ç—Ä–∞–Ω–∏—á–∫–∞ –Ω–∞—à–µ–π –∏—Å—Ç–æ—Ä–∏–∏ –ª—é–±–≤–∏</p>
      </div>
    </div>

    <!-- –°—á–µ—Ç—á–∏–∫ –¥–Ω–µ–π –≤–º–µ—Å—Ç–µ -->
    <div class="section days-counter-section">
      <h3>üìÖ –ú—ã –≤–º–µ—Å—Ç–µ —É–∂–µ</h3>
      <div class="days-counter" id="daysCounter">0</div>
      <div class="days-text" id="daysText">–¥–Ω–µ–π —Å—á–∞—Å—Ç—å—è!</div>
    </div>

    <!-- –°–µ–∫—Ü–∏—è 1: –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç–æ–≤ -->
    <div class="section">
      <div class="compliment-generator">
        <h3>üíù –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç–æ–≤</h3>
        <button class="generate-compliment" id="generateCompliment">
          –ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç ‚ú®
        </button>
        <div class="compliment-box" id="complimentText">
          –ó–¥–µ—Å—å —Ç–∞–∏—Ç—Å—è –º–æ—è –ª—é–±–æ–≤—å üíù
        </div>
      </div>
    </div>

    <!-- –°–µ–∫—Ü–∏—è 2: –í–∞–∂–Ω—ã–µ –¥–∞—Ç—ã -->
    <div class="section dates-section">
      <h3>üìÖ –ù–∞—à–∏ –≤–∞–∂–Ω—ã–µ –¥–∞—Ç—ã</h3>
      <div class="calendar-dates-container" id="calendarDates">
        <!-- –î–∞—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
      </div>
    </div>

    <!-- –°–µ–∫—Ü–∏—è 3: –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è -->
    <div class="section">
      <div class="achievements-system">
        <h3>üèÜ –ù–∞—à–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
        <div id="achievementsList">
          <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
        </div>
      </div>
    </div>

    <!-- –°–µ–∫—Ü–∏—è 4: –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ -->
    <div class="section">
      <div class="planning-calendar">
        <h3>üìù –ü–ª–∞–Ω–∏—Ä—É–µ–º –≤–º–µ—Å—Ç–µ</h3>
        <div class="planning-form">
          <input type="text" id="planTitle" placeholder="–ß—Ç–æ –ø–ª–∞–Ω–∏—Ä—É–µ–º?">
          <input type="date" id="planDate">
          <input type="time" id="planTime">
          <button id="addPlan">–î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ</button>
        </div>
        <div class="plans-list" id="plansList">
          <!-- –ü–ª–∞–Ω—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–¥–µ—Å—å -->
        </div>
      </div>
    </div>

    <footer>–° –ª—é–±–æ–≤—å—é –¥–ª—è —Ç–µ–±—è ‚ù§Ô∏è</footer>
  </div>

  <script>
    let heartExplosionCount = 0;
    let starExplosionCount = 0;
    const heartCountElement = document.getElementById('heartCount');
    const starCountElement = document.getElementById('starCount');
    let isNightMode = false;

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —á–∞—Å—Ç–∏—Ü –ø—Ä–∏ –≤–∑—Ä—ã–≤–µ —Å–µ—Ä–¥—Ü–∞
    function createHeartParticles(rect) {
        const particleCount = 8;
        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.style.cssText = `
                position: fixed;
                width: 6px;
                height: 6px;
                background: var(--accent);
                border-radius: 50%;
                left: ${rect.left + rect.width/2}px;
                top: ${rect.top + rect.height/2}px;
                pointer-events: none;
                z-index: 1000;
            `;
            
            const angle = (i / particleCount) * Math.PI * 2;
            const distance = 30 + Math.random() * 40;
            const duration = 0.8 + Math.random() * 0.4;
            
            particle.style.transition = `all ${duration}s ease-out`;
            document.body.appendChild(particle);
            
            requestAnimationFrame(() => {
                particle.style.transform = `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)`;
                particle.style.opacity = '0';
            });
            
            setTimeout(() => particle.remove(), duration * 1000);
        }
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —á–∞—Å—Ç–∏—Ü –ø—Ä–∏ –≤–∑—Ä—ã–≤–µ –∑–≤–µ–∑–¥—ã
    function createStarParticles(rect) {
        const particleCount = 12;
        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.style.cssText = `
                position: fixed;
                width: 6px;
                height: 6px;
                background: #fff;
                border-radius: 50%;
                left: ${rect.left + rect.width/2}px;
                top: ${rect.top + rect.height/2}px;
                pointer-events: none;
                z-index: 1000;
                box-shadow: 0 0 8px #fff, 0 0 12px #8a2be2;
            `;
            
            const angle = (i / particleCount) * Math.PI * 2;
            const distance = 40 + Math.random() * 60;
            const duration = 0.8 + Math.random() * 0.4;
            
            particle.style.transition = `all ${duration}s ease-out`;
            document.body.appendChild(particle);
            
            requestAnimationFrame(() => {
                particle.style.transform = `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)`;
                particle.style.opacity = '0';
            });
            
            setTimeout(() => particle.remove(), duration * 1000);
        }
    }

    // –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–¥–µ—á–µ–∫ (—Ç–æ–ª—å–∫–æ –≤ –¥–Ω–µ–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ)
    const heartsRoot = document.querySelector('.hearts');
    function makeHeart(i){
      const el = document.createElement('i');
      const left = Math.random() * 100; 
      const top = -10 - Math.random()*30;
      
      el.style.left = left + 'vw'; 
      el.style.top = top + 'vh';
      
      const dur = 10 + Math.random()*15;
      el.style.transition = `transform ${dur}s linear, top ${dur}s linear, opacity ${dur}s linear`;
      heartsRoot.appendChild(el);
      
      el.addEventListener('click', function() {
        this.style.pointerEvents = 'none';
        this.classList.add('heart-explode');
        // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ —Å–µ—Ä–¥–µ—á–µ–∫
        heartExplosionCount++;
        heartCountElement.textContent = heartExplosionCount;

        // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∫ —Å—á–µ—Ç—á–∏–∫—É
        heartCountElement.style.transform = 'scale(1.3)';
        setTimeout(() => {
            heartCountElement.style.transform = 'scale(1)';
        }, 300);
        createHeartParticles(this.getBoundingClientRect());
        setTimeout(() => {
            if (this.parentElement) {
                this.parentElement.removeChild(this);
            }
        }, 800);
      });
      
      requestAnimationFrame(()=>{
        el.style.transform = `translateY(${110 + Math.random()*30}vh) scale(${0.8+Math.random()*0.6}) rotate(${(Math.random()-0.5)*60}deg)`;
        el.style.opacity = 0;
      });
      setTimeout(()=>el.remove(), (dur+0.5)*1000);
    }

    // –°–æ–∑–¥–∞–Ω–∏–µ –∑–≤–µ–∑–¥ (—Ç–æ–ª—å–∫–æ –≤ –Ω–æ—á–Ω–æ–º —Ä–µ–∂–∏–º–µ)
    const starsRoot = document.querySelector('.stars');
    function makeStar(i){
      const el = document.createElement('i');
      const left = Math.random() * 100; 
      const top = -10 - Math.random()*30;
      const size = 6 + Math.random() * 4; // –£–≤–µ–ª–∏—á–∏–ª–∏ —Ä–∞–∑–º–µ—Ä –∑–≤–µ–∑–¥
      const brightness = 0.6 + Math.random() * 0.4;
      
      el.style.left = left + 'vw'; 
      el.style.top = top + 'vh';
      el.style.width = size + 'px';
      el.style.height = size + 'px';
      el.style.opacity = brightness;
      
      const dur = 15 + Math.random()*20;
      el.style.transition = `transform ${dur}s linear, top ${dur}s linear, opacity ${dur}s linear`;
      starsRoot.appendChild(el);
      
      el.addEventListener('click', function() {
        this.style.pointerEvents = 'none';
        this.classList.add('star-explode');
        // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –∑–≤–µ–∑–¥
        starExplosionCount++;
        starCountElement.textContent = starExplosionCount;

        // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∫ —Å—á–µ—Ç—á–∏–∫—É
        starCountElement.style.transform = 'scale(1.3)';
        setTimeout(() => {
            starCountElement.style.transform = 'scale(1)';
        }, 300);
        createStarParticles(this.getBoundingClientRect());
        setTimeout(() => {
            if (this.parentElement) {
                this.parentElement.removeChild(this);
            }
        }, 800);
      });
      
      requestAnimationFrame(()=>{
        el.style.transform = `translateY(${120 + Math.random()*40}vh) rotate(${(Math.random()-0.5)*180}deg)`;
        el.style.opacity = 0;
      });
      setTimeout(()=>el.remove(), (dur+0.5)*1000);
    }
    
    // –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–¥–µ—á–µ–∫ –≤ –¥–Ω–µ–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ
    function startHearts() {
      setInterval(()=>{ 
        if (!isNightMode) {
          for(let i=0;i<3;i++) makeHeart(); 
        }
      }, 800);
    }

    // –°–æ–∑–¥–∞–Ω–∏–µ –∑–≤–µ–∑–¥ –≤ –Ω–æ—á–Ω–æ–º —Ä–µ–∂–∏–º–µ
    function startStars() {
      setInterval(()=>{ 
        if (isNightMode) {
          for(let i=0;i<2;i++) makeStar(); 
        }
      }, 1000);
    }

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
    document.getElementById('themeToggle').addEventListener('click', function() {
      isNightMode = !isNightMode;
      document.body.classList.toggle('night-mode', isNightMode);
      this.textContent = isNightMode ? '‚òÄÔ∏è' : 'üåô';
      
      // –û—á–∏—â–∞–µ–º –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ä–µ–∂–∏–º–∞
      if (isNightMode) {
        heartsRoot.innerHTML = '';
        // –°–æ–∑–¥–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –∑–≤–µ–∑–¥—ã –¥–ª—è –Ω–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
        for(let i=0;i<15;i++) makeStar();
      } else {
        starsRoot.innerHTML = '';
        // –°–æ–∑–¥–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ —Å–µ—Ä–¥–µ—á–∫–∏ –¥–ª—è –¥–Ω–µ–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
        for(let i=0;i<10;i++) makeHeart();
      }
    });

    // –°—á–µ—Ç—á–∏–∫ –¥–Ω–µ–π –≤–º–µ—Å—Ç–µ
    function updateDaysCounter() {
      const startDate = new Date('2023-06-01');
      const today = new Date();
      const daysTogether = Math.floor((today - startDate) / (1000 * 60 * 60 * 24));
      
      const daysCounter = document.getElementById('daysCounter');
      const daysText = document.getElementById('daysText');
      
      daysCounter.textContent = daysTogether;
      
      // –ö—Ä–∞—Å–∏–≤–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–Ω–µ–π
      const lastDigit = daysTogether % 10;
      const lastTwoDigits = daysTogether % 100;
      
      let dayText = '–¥–Ω–µ–π';
      if (lastTwoDigits >= 11 && lastTwoDigits <= 14) {
        dayText = '–¥–Ω–µ–π';
      } else if (lastDigit === 1) {
        dayText = '–¥–µ–Ω—å';
      } else if (lastDigit >= 2 && lastDigit <= 4) {
        dayText = '–¥–Ω—è';
      }
      
      daysText.textContent = `${dayText} —Å—á–∞—Å—Ç—å—è!`;
      
      // –î–æ–±–∞–≤–ª—è–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∫—Ä—É–≥–ª—ã—Ö –¥–∞—Ç
      if (daysTogether % 100 === 0) {
        daysText.textContent += ` üéâ –Æ–±–∏–ª–µ–π!`;
      } else if (daysTogether % 365 === 0) {
        const years = daysTogether / 365;
        daysText.textContent += ` üéÇ ${years} –≥–æ–¥${years > 1 ? '–∞' : ''} –≤–º–µ—Å—Ç–µ!`;
      }
    }

    // –ù–û–í–´–ï –§–£–ù–ö–¶–ò–ò
    // –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç–æ–≤
    const compliments = [
      "–¢—ã —Å–∞–º–æ–µ –∫—Ä–∞—Å–∏–≤–æ–µ, —á—Ç–æ —Å–ª—É—á–∞–ª–æ—Å—å –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏! üå∏",
      "–¢–≤–æ—è —É–ª—ã–±–∫–∞ –¥–µ–ª–∞–µ—Ç –º–æ–π –¥–µ–Ω—å —è—Ä—á–µ! ‚ú®",
      "–Ø —Å–∫—É—á–∞—é –ø–æ —Ç–µ–±–µ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É! üí´",
      "–¢—ã –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—à—å –º–µ–Ω—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –ª—É—á—à–µ! üöÄ",
      "–° —Ç–æ–±–æ–π –¥–∞–∂–µ –æ–±—ã—á–Ω—ã–π –¥–µ–Ω—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º! üéâ",
      "–¢–≤–æ–∏ –≥–ª–∞–∑–∞ - –º–æ—è –ª—é–±–∏–º–∞—è –≤—Å–µ–ª–µ–Ω–Ω–∞—è! üåå",
      "–¢—ã –¥–µ–ª–∞–µ—à—å –º–µ–Ω—è —Å–∞–º—ã–º —Å—á–∞—Å—Ç–ª–∏–≤—ã–º —á–µ–ª–æ–≤–µ–∫–æ–º! üòä",
      "–ö–∞–∂–¥–∞—è –º–∏–Ω—É—Ç–∞ —Å —Ç–æ–±–æ–π - –ø–æ–¥–∞—Ä–æ–∫ —Å—É–¥—å–±—ã! üéÅ",
      "–¢–≤–æ—è –¥–æ–±—Ä–æ—Ç–∞ —Å–æ–≥—Ä–µ–≤–∞–µ—Ç –º–æ–µ —Å–µ—Ä–¥—Ü–µ! üî•",
      "–¢—ã –∏–¥–µ–∞–ª—å–Ω–∞ –≤–æ –≤—Å–µ–º! üíé",
      "–ú–æ–µ —Å–µ—Ä–¥—Ü–µ –±—å–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–±—è! üíì",
      "–¢—ã –º–æ—è —Å–∞–º–∞—è –±–æ–ª—å—à–∞—è –º–µ—á—Ç–∞! üå†",
      "–° —Ç–æ–±–æ–π —è —á—É–≤—Å—Ç–≤—É—é, —á—Ç–æ –º–æ–≥—É –≤—Å—ë! üí™",
      "–¢—ã - –ø—Ä–∏—á–∏–Ω–∞ –º–æ–µ–π —É–ª—ã–±–∫–∏! üòÑ",
      "–õ—é–±–æ–≤—å –∫ —Ç–µ–±–µ –¥–µ–ª–∞–µ—Ç –º–µ–Ω—è —Å–∏–ª—å–Ω–µ–µ! üõ°Ô∏è"
    ];

    document.getElementById('generateCompliment').addEventListener('click', function() {
      const randomCompliment = compliments[Math.floor(Math.random() * compliments.length)];
      document.getElementById('complimentText').textContent = randomCompliment;
    });

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã –≤ –¥–¥.–º–º.–≥–≥–≥–≥
    function formatDate(dateString) {
      const [year, month, day] = dateString.split('-');
      return `${day}.${month}.${year}`;
    }

    // –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π
    const importantDates = [
      { date: '2023-06-01', event: 'üå± –î–µ–Ω—å, –∫–æ–≥–¥–∞ –Ω–∞—à–∏ —Å–µ—Ä–¥—Ü–∞ –Ω–∞—à–ª–∏ –¥—Ä—É–≥ –¥—Ä—É–≥–∞', days: '–ü–µ—Ä–≤—ã–π –¥–µ–Ω—å' },
      { date: '2023-06-04', event: 'üè∞ –ò–Ω–Ω–æ–ø–æ–ª–∏—Å –∏ –°–≤–∏—è–∂—Å–∫ - –ø–µ—Ä–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞—à–µ–π –∫–Ω–∏–≥–∏', days: '4 –¥–Ω—è' },
      { date: '2023-07-15', event: 'üöù –ò–∂–µ–≤—Å–∫ —Å—Ç–∞–ª —Å–≤–∏–¥–µ—Ç–µ–ª–µ–º –Ω–∞—à–∏—Ö —á—É–≤—Å—Ç–≤', days: '45 –¥–Ω–µ–π' },
      { date: '2024-01-22', event: 'üî• –ù–µ–∑–∞–±—ã–≤–∞–µ–º—ã–π –≥–ª—ç–º–ø–∏–Ω–≥ —Å –¥—Ä—É–∑—å—è–º–∏', days: '235 –¥–Ω–µ–π' },
      { date: '2024-02-07', event: '‚ùÑÔ∏è –ó–∏–º–Ω—è—è –ú–æ—Å–∫–≤–∞ –∑–∞—Å—Ç–∞–≤–ª—è–ª–∞ –Ω–∞—Å —É–ª—ã–±–∞—Ç—å—Å—è', days: '251 –¥–µ–Ω—å' },
      { date: '2024-03-24', event: 'üè° –î–µ–Ω—å, –∫–æ–≥–¥–∞ "—è" –∏ "—Ç—ã" —Å—Ç–∞–ª–∏ "–º—ã"', days: '297 –¥–Ω–µ–π' },
      { date: '2024-06-01', event: 'üéÇ 365 –≤–æ—Å—Ö–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —è –≤—Å—Ç—Ä–µ—á–∞–ª —Å –º—ã—Å–ª—è–º–∏ –æ —Ç–µ–±–µ', days: '365 –¥–Ω–µ–π' },
      { date: '2024-09-02', event: '‚õ∞Ô∏è –ö–∞–≤–∫–∞–∑—Å–∫–∏–µ –≥–æ—Ä—ã —Å–∫–ª–æ–Ω–∏–ª–∏—Å—å –ø–µ—Ä–µ–¥ –Ω–∞—à–µ–π –ª—é–±–æ–≤—å—é', days: '459 –¥–Ω–µ–π' },
      { date: '2024-09-23', event: 'üì¶ –ü–µ—Ä–≤—ã–π —Å–æ–≤–º–µ—Å—Ç–Ω—ã–π –ø–µ—Ä–µ–µ–∑–¥', days: '480 –¥–Ω–µ–π' },
      { date: '2025-04-16', event: 'üîÅ –ï—â—ë –æ–¥–∏–Ω –ø–µ—Ä–µ–µ–∑–¥, –Ω–æ —Å —Ç–æ–±–æ–π - —ç—Ç–æ –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ', days: '685 –¥–Ω–µ–π' },
      { date: '2025-05-02', event: 'üêæ –ü–æ—è–≤–ª–µ–Ω–∏–µ –≠–º–∏ - –ø—É—à–∏—Å—Ç–æ–µ —Å—á–∞—Å—Ç—å–µ –≤ –Ω–∞—à–µ–º –¥–æ–º–µ', days: '701 –¥–Ω–µ–π' },
      { date: '2025-05-25', event: '‚òÄÔ∏è –£—Ç—Ä–∞—É! –ú–µ—Å—Ç–æ, –≥–¥–µ –º—ã –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª–∏ —Å–µ–±—è –Ω–∞ —Å–≤–æ—ë–º –º–µ—Å—Ç–µ', days: '724 –¥–Ω–µ–π' },
      { date: '2025-06-01', event: '‚ú® 730 –Ω–æ—á–µ–π –≤–∑–∞–∏–º–Ω–æ–π –ª—é–±–≤–∏', days: '731 –¥–µ–Ω—å' },
      { date: '2025-08-11', event: 'üåÖ –ó–∞–π–º–∏—â–µ - –≥–¥–µ –¥—Ä—É–∂–±–∞ –∏ –ª—é–±–æ–≤—å —Å–ø–ª–µ–ª–∏—Å—å –≤–æ–µ–¥–∏–Ω–æ', days: '802 –¥–Ω—è' },
      { date: '2025-08-28', event: 'üåâ –ú–æ—Å–∫–≤–∞-–ü–µ—Ç–µ—Ä–±—É—Ä–≥: –¥–≤–∞ –≥–æ—Ä–æ–¥–∞, –æ–¥–Ω–æ —á—É–≤—Å—Ç–≤–æ', days: '819 –¥–Ω–µ–π' }
    ];

    function renderCalendar() {
      const calendarContainer = document.getElementById('calendarDates');
      calendarContainer.innerHTML = '';
      
      importantDates.forEach(item => {
        const dateElement = document.createElement('div');
        dateElement.className = 'calendar-date';
        dateElement.innerHTML = `
          <span class="date-event">${item.event}</span>
          <span class="date-days">${formatDate(item.date)} (${item.days})</span>
        `;
        calendarContainer.appendChild(dateElement);
      });
    }

    // –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
    const achievements = [
      { days: 1, desc: '–°—Ç–∞—Ä—Ç –≤–µ–ª–∏–∫–æ–≥–æ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è!', icon: 'üå±', unlocked: true },
      { days: 50, desc: '–ü–æ–ª—Ç–æ—Ä–∞ –º–µ—Å—è—Ü–∞ –ø–æ—Ü–µ–ª—É–µ–≤ –∏ –æ–±–Ω–∏–º–∞—à–µ–∫', icon: 'üíù', unlocked: true },
      { days: 100, desc: '–°–æ—Ç–Ω—è –¥–Ω–µ–π —Å—á–∞—Å—Ç—å—è - —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª–æ!', icon: 'üéØ', unlocked: true },
      { days: 365, desc: '–¶–µ–ª—ã–π –≥–æ–¥ –≤–º–µ—Å—Ç–µ!', icon: 'üéâ', unlocked: false },
      { days: 500, desc: '500 –¥–Ω–µ–π - –∏ –º—ã –≤—Å—ë –µ—â—ë –Ω–∞ –≤–∑–ª—ë—Ç–µ!', icon: 'üöÄ', unlocked: false },
      { days: 700, desc: '–ü–æ—á—Ç–∏ 2 –≥–æ–¥–∞ - –∏ —Å –∫–∞–∂–¥—ã–º –¥–Ω—ë–º –≤—Å—ë –ª—É—á—à–µ!', icon: 'üí´', unlocked: false },
      { days: 1000, desc: '–¢—ã—Å—è—á–∞ –¥–Ω–µ–π - –º—ã –¥–µ–ª–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é?', icon: 'üèÜ', unlocked: false }
    ];

    function getDaysText(days) {
      const lastDigit = days % 10;
      const lastTwoDigits = days % 100;
      
      if (lastTwoDigits >= 11 && lastTwoDigits <= 14) {
        return '–¥–Ω–µ–π';
      }
      
      if (lastDigit === 1) {
        return '–¥–µ–Ω—å';
      }
      
      if (lastDigit >= 2 && lastDigit <= 4) {
        return '–¥–Ω—è';
      }
      
      return '–¥–Ω–µ–π';
    }

    function renderAchievements() {
      const startDate = new Date('2023-06-01');
      const today = new Date();
      const daysTogether = Math.floor((today - startDate) / (1000 * 60 * 60 * 24));
      
      const achievementsContainer = document.getElementById('achievementsList');
      achievementsContainer.innerHTML = '';
      
      achievements.forEach(achievement => {
        const isUnlocked = daysTogether >= achievement.days;
        const achievementElement = document.createElement('div');
        achievementElement.className = `achievement ${isUnlocked ? 'unlocked' : ''}`;
        achievementElement.innerHTML = `
          <div class="achievement-icon">${achievement.icon}</div>
          <div class="achievement-text">
            <div class="achievement-desc">${achievement.desc}</div>
          </div>
          <div>${achievement.days} ${getDaysText(achievement.days)}</div>
        `;
        achievementsContainer.appendChild(achievementElement);
      });
    }

    // –ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
    let plans = JSON.parse(localStorage.getItem('ourPlans')) || [];
    let editingIndex = null;

    function renderPlans() {
      const plansContainer = document.getElementById('plansList');
      plansContainer.innerHTML = '';
      
      plans.forEach((plan, index) => {
        const planElement = document.createElement('div');
        planElement.className = 'plan-item';
        const displayTime = plan.time ? ` –≤ ${plan.time}` : '';
        const formattedDate = formatDate(plan.date);
        planElement.innerHTML = `
          <div>
            <strong>${plan.title}</strong> - ${formattedDate}${displayTime}
          </div>
          <div class="plan-actions">
            <button class="edit-btn" onclick="editPlan(${index})">‚úèÔ∏è</button>
            <button class="delete-btn" onclick="removePlan(${index})">√ó</button>
          </div>
        `;
        plansContainer.appendChild(planElement);
      });
    }

    function addPlan() {
      const title = document.getElementById('planTitle').value;
      const date = document.getElementById('planDate').value;
      const time = document.getElementById('planTime').value;
      
      if (title && date) {
        if (editingIndex !== null) {
          // –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ —Å–æ–±—ã—Ç–∏–µ
          plans[editingIndex] = { title, date, time };
          editingIndex = null;
          document.getElementById('addPlan').textContent = '–î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ';
        } else {
          // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ
          plans.push({ title, date, time });
        }
        
        localStorage.setItem('ourPlans', JSON.stringify(plans));
        renderPlans();
        document.getElementById('planTitle').value = '';
        document.getElementById('planDate').value = '';
        document.getElementById('planTime').value = '';
      }
    }

    function editPlan(index) {
      const plan = plans[index];
      document.getElementById('planTitle').value = plan.title;
      document.getElementById('planDate').value = plan.date;
      document.getElementById('planTime').value = plan.time || '';
      editingIndex = index;
      document.getElementById('addPlan').textContent = '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è';
      
      // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ —Ñ–æ—Ä–º–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
      document.getElementById('planTitle').scrollIntoView({behavior: 'smooth'});
    }

    function removePlan(index) {
      plans.splice(index, 1);
      localStorage.setItem('ourPlans', JSON.stringify(plans));
      renderPlans();
    }

    document.getElementById('addPlan').addEventListener('click', addPlan);

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    document.addEventListener('DOMContentLoaded', function() {
      updateDaysCounter();
      renderCalendar();
      renderAchievements();
      renderPlans();
      
      // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏
      startHearts();
      startStars();
      
      // –°–æ–∑–¥–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ —Å–µ—Ä–¥–µ—á–∫–∏
      for(let i=0;i<10;i++) makeHeart();
      
      // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –¥–Ω–µ–π –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
      setInterval(updateDaysCounter, 24 * 60 * 60 * 1000);
    });
  </script>
</body>
</html>
